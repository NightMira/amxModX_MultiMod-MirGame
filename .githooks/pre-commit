#!/bin/bash
echo "üîß Pre-commit: Updating version.inc..."

# –û–±–Ω–æ–≤–ª—è–µ–º git –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
if python3 update_version.py git-info; then
    git add scripting/include/version.inc
    echo "‚úÖ version.inc updated with git information"
else
    echo "‚ùå Failed to update version.inc"
    exit 1
fi

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
echo "üîç Running validations..."
if ! python3 update_version.py validate 2>/dev/null; then
    echo "‚ö†Ô∏è Version consistency issues detected"
    echo "   Run: python3 update_version.py validate for details"
fi

echo "‚úÖ Pre-commit checks completed"
exit 0
